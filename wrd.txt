ðŸ”¹ Program: Count Lines, Words, Characters, Blanks, Vowels & Consonants
âœ… Program (Using open(), read(), close() system calls)
#include <stdio.h>
#include <fcntl.h>
#include <unistd.h>
#include <ctype.h>

int main() {
    int fd;
    char ch;
    int lines = 0, words = 0, chars = 0, blanks = 0, vowels = 0, consonants = 0;
    int inWord = 0;   // flag to track word boundaries

    fd = open("input.txt", O_RDONLY);  // open the file
    if (fd < 0) {
        perror("File open failed");
        return 1;
    }

    // Read one character at a time
    while (read(fd, &ch, 1) > 0) {
        chars++; // total characters

        // Count lines
        if (ch == '\n')
            lines++;

        // Count blanks (spaces or tabs)
        if (ch == ' ' || ch == '\t')
            blanks++;

        // Count words
        if (isspace(ch))
            inWord = 0;
        else if (!inWord) {
            inWord = 1;
            words++;
        }

        // Count vowels and consonants (alphabetic only)
        if (isalpha(ch)) {
            char lower = tolower(ch);
            if (lower=='a' || lower=='e' || lower=='i' || lower=='o' || lower=='u')
                vowels++;
            else
                consonants++;
        }
    }

    close(fd);

    printf("\nFile Statistics:\n");
    printf("-----------------\n");
    printf("Characters : %d\n", chars);
    printf("Words      : %d\n", words);
    printf("Lines      : %d\n", lines);
    printf("Blanks     : %d\n", blanks);
    printf("Vowels     : %d\n", vowels);
    printf("Consonants : %d\n", consonants);

    return 0;
}

âœ… Example Input File (input.txt)
Operating Systems Lab
CEG Anna University
File system calls

âœ… Expected Output
File Statistics:
-----------------
Characters : 60
Words      : 7
Lines      : 3
Blanks     : 6
Vowels     : 20
Consonants : 34

ðŸ”¹ Explanation
Metric	How Itâ€™s Counted
Characters	Each byte read from file
Lines	Each newline ('\n')
Blanks	Each space (' ') or tab ('\t')
Words	Every new sequence of non-space characters
Vowels	â€˜aâ€™, â€˜eâ€™, â€˜iâ€™, â€˜oâ€™, â€˜uâ€™ (case insensitive)
Consonants	Alphabetic characters that are not vowels
ðŸ”¹ Header Files Used
Header	Purpose
<fcntl.h>	For open()
<unistd.h>	For read() and close()
<ctype.h>	For isalpha(), tolower(), isspace()
<stdio.h>	For printf() and perror()
ðŸ”¹ Typical Lab Question Format

Experiment 6: File Content Analysis using System Calls

Aim:
To write a C program to count the number of lines, words, characters, blanks, vowels, and consonants in a file using system calls.

System Calls Used:
open(), read(), close()

Algorithm:

Open the file using open().

Initialize counters for each category.

Read file character by character.

Increment counters appropriately.

Display the results.

Close the file using close().